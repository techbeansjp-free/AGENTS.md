# 参照パス確認ルール追加レビュー

**レビュー実施日時**: 2026 年 1 月 8 日 01:32:54

**レビュー対象**: AGENTS 規約とテンプレートへの「参照パス確認ルール」追加

---

## レビュー対象ドキュメント

- [`AGENTS_AI_PLAYBOOK.md`](../AGENTS_AI_PLAYBOOK.md)
- [`AGENTS.md`](../AGENTS.md)
- [`AGENTS_GITHUB_PR_REVIEW_FETCH.md`](../AGENTS_GITHUB_PR_REVIEW_FETCH.md)
- [`AGENTS_MERMAID_RULES.md`](../AGENTS_MERMAID_RULES.md)
- [`AGENTS_REVIEW_RULE.md`](../AGENTS_REVIEW_RULE.md)
- [`AGENTS_STORYBOOK_RULES.md`](../AGENTS_STORYBOOK_RULES.md)
- [`AGENTS_TEST_GUIDELINES.md`](../AGENTS_TEST_GUIDELINES.md)

---

## 変更内容の概要

### 追加された内容

1. **`AGENTS_AI_PLAYBOOK.md`への追加**
   - ハード制約に「16. 参照パス確認は必須」を追加
   - ドキュメント更新ルールセクションに参照パス確認のルールを追加
   - 入出力イメージセクションに参照パス確認のチェックリストを追加

2. **`AGENTS.md`への追加**
   - ドキュメント原則セクションに「参照パス確認は必須（重要）」を追加
   - 確認タイミング、確認方法、確認項目、禁止事項、必須事項、参照パスのパターン、よくある間違いと対処法、チェックリストを詳細に記載

3. **`AGENTS_GITHUB_PR_REVIEW_FETCH.md`への追加**
   - LLM エージェント向け実行ルールに「7. 参照パス確認ルール」を追加
   - AI 自己チェックリストに参照パス確認の項目を追加

4. **`AGENTS_MERMAID_RULES.md`への追加**
   - LLM エージェント向け実行ルールに「6. 参照パス確認ルール」を追加
   - AI 自己チェックリストに参照パス確認の項目を追加

5. **`AGENTS_REVIEW_RULE.md`への追加**
   - ドキュメントの確認セクションに参照パスの確認（必須）を追加
   - ドキュメントチェックリストに参照パス確認の項目を追加

6. **`AGENTS_STORYBOOK_RULES.md`への追加**
   - LLM エージェント向け実行ルールに「6. 参照パス確認ルール」を追加
   - AI 自己チェックリストに参照パス確認の項目を追加

7. **`AGENTS_TEST_GUIDELINES.md`への追加**
   - BDD 前提でのテストの作り方セクションに参照パス確認のルールを追加
   - テスト作成時の小さな指針セクションに参照パス確認の項目を追加

### 変更の目的

- ドキュメント作成時に参照パスが間違っている問題を防ぐため、参照パス確認を必須化
- すべてのドキュメント作成・更新時に参照パスが正しいか確認することを徹底
- AI エージェントが参照パスを推測せず、実際のファイルパスを確認することを強制

---

## レビュー観点

### 1. 整合性の確認

#### ✅ ドキュメント間の整合性

- すべての AGENTS 関連ドキュメントに参照パス確認のルールが追加されている
- 各ドキュメントで参照パス確認のルールが一貫している
- `AGENTS.md` の「ドキュメント原則」セクションへの参照が適切に記載されている

#### ✅ 既存のワークフローとの整合性

- 既存のドキュメント原則と整合している
- ドキュメント作成・更新のタイミングで参照パス確認を実施することが明確
- レビュー時にも参照パス確認を実施することが明確

### 2. 内容の妥当性

#### ✅ 必須ルールとしての位置づけ

- 「必須」「重要」として明記されており、参照パス確認が必須であることが明確
- 確認タイミング（ドキュメント作成時、更新時、レビュー時）が明確

#### ✅ 確認方法の明確性

以下の確認項目が適切に含まれている：

- 相対パスの形式が正しいか（`./`、`../` など）
- ファイル名が正しいか（大文字小文字、拡張子を含む）
- ディレクトリ構造が正しいか
- リンク形式が正しいか（Markdown リンク形式: `[テキスト](./パス)`）

#### ✅ 禁止事項の明確性

以下の禁止事項が明記されている：

- 参照パスを推測する
- ファイル名を記憶に基づいて記載する
- ディレクトリ構造を確認せずに参照パスを記載する
- ファイルが存在しないのに参照パスを記載する

#### ✅ 参照パスのパターン

以下の参照パスのパターンが適切に記載されている：

- 同じディレクトリ内: `./ファイル名.md`
- 親ディレクトリ: `../ファイル名.md`
- 2階層上のディレクトリ: `../../ファイル名.md`
- プロジェクトルートのファイル: 相対パスで正しく指定
- テンプレートファイル: `.workflow/templates/ファイル名.md` または `../templates/ファイル名.md`

#### ✅ よくある間違いと対処法

以下のよくある間違いと対処法が適切に記載されている：

- 間違い: 実際のファイルパスと一致していない参照パス
- 間違い: Markdown リンク形式になっていない参照パス
- 間違い: ディレクトリ構造と一致していない参照パス
- 間違い: ファイル名の大文字小文字が一致していない

### 3. 実装可能性

#### ✅ 実装可能な内容

- すべてのステップが具体的で実装可能
- 参照パス確認の方法が明確
- チェックリストが適切に提供されている

#### ✅ リソース的実現可能性

- 追加のツールや環境は不要
- 既存のワークフローに統合可能
- AI エージェントが実装可能な内容

### 4. 保守性・再利用性

#### ✅ 保守性

- 参照パス確認のルールが明確で、将来の変更にも対応しやすい
- チェックリストが提供されており、一貫性のある確認が可能

#### ✅ 再利用性

- すべてのドキュメント作成・更新時に適用可能な汎用的なルール
- プロジェクトの規模や種類に関係なく適用可能

### 5. 考慮不足の確認

#### ✅ エッジケース

- 参照先のファイルが存在しない場合の処理が明確（禁止事項として明記）
- 複数の参照パスがある場合の処理が明確（すべての参照パスを確認）

#### ✅ エラーハンドリング

- 参照パスが間違っている場合の対処法が明確（よくある間違いと対処法）
- チェックリストが提供されており、確認漏れを防ぐことができる

#### ✅ セキュリティ

- 特にセキュリティに関連する考慮事項は不要（参照パス確認のため）

#### ✅ パフォーマンス

- 特にパフォーマンスに関連する考慮事項は不要（参照パス確認のため）

#### ✅ テスト観点

- 参照パス確認のルール自体はテスト観点とは直接関係ないが、ドキュメントの品質向上に寄与する

---

## 指摘事項

### 指摘事項なし

今回の追加内容について、以下の理由により指摘事項はありません：

1. **整合性**: すべてのドキュメントに参照パス確認のルールが一貫して追加されている
2. **妥当性**: 内容が適切で、ドキュメント作成時の参照パスエラーを防ぐのに有効
3. **実現可能性**: すべてのステップが実装可能で、AI エージェントが実行可能
4. **保守性**: 将来の変更にも対応しやすい構造
5. **網羅性**: 必要な観点（確認タイミング、確認方法、確認項目、禁止事項、必須事項、参照パスのパターン、よくある間違いと対処法、チェックリスト）がすべて含まれている

---

## 総合評価

### 完成度

**✅ 実装可能な状態**

- ドキュメントが完成し、実装可能な状態になっている
- すべての必要な情報が含まれている
- 参照パス確認のルールが明確で、一貫性がある

### 実装可否の判断

**✅ 実装可能**

- すべてのステップが具体的で実装可能
- 既存のワークフローに統合可能
- 追加のツールや環境は不要
- AI エージェントが実装可能な内容

### 次のステップ

1. **実装**: このルールを実際のドキュメント作成・更新時に適用する
2. **フィードバック**: 実装後のフィードバックを収集し、必要に応じて改善する
3. **ドキュメント更新**: 実装後の知見を反映し、必要に応じてドキュメントを更新する

---

## 参考資料

- [`AGENTS_AI_PLAYBOOK.md`](../AGENTS_AI_PLAYBOOK.md) - LLM エージェント運用ルール
- [`AGENTS.md`](../AGENTS.md) - 開発規約の全体像
- [`AGENTS_GITHUB_PR_REVIEW_FETCH.md`](../AGENTS_GITHUB_PR_REVIEW_FETCH.md) - GitHub PR 指摘取得ルール
- [`AGENTS_MERMAID_RULES.md`](../AGENTS_MERMAID_RULES.md) - Mermaid 図作成規約
- [`AGENTS_REVIEW_RULE.md`](../AGENTS_REVIEW_RULE.md) - レビュー時の徹底的な品質調査ルール
- [`AGENTS_STORYBOOK_RULES.md`](../AGENTS_STORYBOOK_RULES.md) - Storybook / デザインシステム運用規約
- [`AGENTS_TEST_GUIDELINES.md`](../AGENTS_TEST_GUIDELINES.md) - テスト作成ガイドライン
- [`.review/README.md`](./README.md) - レビューディレクトリの説明

---

**レビュー完了日時**: 2026 年 1 月 8 日 01:32:54

