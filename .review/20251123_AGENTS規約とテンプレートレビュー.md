# レビュー結果: AGENTS 規約とテンプレート

**レビュー日**: 2025 年 11 月 23 日  
**レビュー対象**: テンプレートファイル、AGENTS.md、AGENTS_AI_PLAYBOOK.md

---

## ✅ 総合評価

**AI が想定通りに正しく機能するか**: **概ね問題なし。いくつかの改善点あり。**

テンプレートと規約ドキュメントの整合性は概ね良好です。AI エージェントがこの規約に従って動作するための要件は満たされていますが、いくつかの改善点があります。

---

## ✅ 良好な点

### 1. ワークフローの明確性

- フェーズ進行が明確に定義されている（00 → 01 → 02 → 03 → 実装 → 04_review）
- 各フェーズの完了条件が明確
- 前のステップ・次のステップセクションが適切に配置されている

### 2. テンプレートの一貫性

- すべてのテンプレートで同じフォーマットを使用
- 必須セクションが明確に定義されている
- プレースホルダーの形式が統一されている

### 3. AI エージェント向けの明確なルール

- `AGENTS_AI_PLAYBOOK.md`で機械的に守るべきルールが明確
- フェーズ別チェックリストが整備されている
- ドキュメント更新ルールが明確

### 4. ドキュメント間のリンク

- 前のステップ・次のステップセクションが適切に配置
- 参考資料セクションで関連ドキュメントへのリンクが適切

---

## ⚠️ 改善が必要な点

### 1. 用語の統一（軽微）

**問題**: テンプレートでは「プロジェクト名」を使用しているが、AGENTS.md では「issue/タスク名」を主に使用している。

**現状**:

- テンプレート: `{プロジェクト名}`
- AGENTS.md: 「issue/タスク名」を主に使用（プロジェクトという概念も認めている）

**評価**:

- AGENTS.md では「プロジェクト」という概念も認めているため、テンプレートで「プロジェクト名」を使用するのは問題ない
- ただし、より明確にするために、テンプレートのコメントで「プロジェクト名または issue/タスク名」と明記することを推奨

**対応**: ✅ **完了** - すべてのテンプレートファイル（00*要求定義.md、01*要件定義.md、02*設計.md、03*実装計画.md、04_review.md、90_issues.md）に用語の使い分けに関する注意書きを追加しました。

### 2. 00\_要求定義.md の「前のステップ」セクション（問題なし）

**確認**: `00_要求定義.md`には「前のステップ」セクションがないが、これは最初のドキュメントのため正しい。AGENTS.md でも「前のステップは不要」と明記されている。

**評価**: ✅ 問題なし

### 3. 90_issues.md の「前のステップ」「次のステップ」セクション（問題なし）

**確認**: `90_issues.md`には「前のステップ」「次のステップ」セクションがないが、AGENTS.md で「前のステップ/次のステップセクションは不要（issue 管理ファイルのため）」と明記されている。

**評価**: ✅ 問題なし

### 4. 04_review.md の「次のステップ」セクション（問題なし）

**確認**: `04_review.md`には「次のステップ」セクションがないが、これは最後のドキュメントのため正しい。AGENTS.md でも「次のステップは不要（レビュー完了後は issue/タスク完了のため）」と明記されている。

**評価**: ✅ 問題なし

---

## 🔍 詳細レビュー

### テンプレートファイルの整合性

#### 00\_要求定義.md

- ✅ タイトル形式: 「要求定義書: {プロジェクト名}」- 正しい
- ✅ 必須セクション: 「次のステップ」セクションあり（「前のステップ」は不要）- 正しい
- ✅ リンク形式: Markdown リンク形式を使用 - 正しい
- ✅ セクション構造: AGENTS.md のテンプレート説明と一致

#### 01\_要件定義.md

- ✅ タイトル形式: 「要件定義書: {プロジェクト名}」- 正しい
- ✅ 必須セクション: 「前のステップ」「次のステップ」セクションあり - 正しい
- ✅ リンク形式: Markdown リンク形式を使用 - 正しい
- ✅ BDD 形式: Gherkin 形式でシナリオを定義 - 正しい

#### 02\_設計.md

- ✅ タイトル形式: 「設計書: {プロジェクト名}」- 正しい
- ✅ 必須セクション: 「前のステップ」「次のステップ」セクションあり - 正しい
- ✅ リンク形式: Markdown リンク形式を使用 - 正しい
- ✅ アーキテクチャ図: Mermaid 形式で適切に配置 - 正しい

#### 03\_実装計画.md

- ✅ タイトル形式: 「実装計画書: {プロジェクト名}」- 正しい
- ✅ 必須セクション: 「前のステップ」「次のステップ」セクションあり - 正しい
- ✅ リンク形式: Markdown リンク形式を使用 - 正しい
- ✅ BDD テスト仕様: セクションが適切に配置 - 正しい

#### 04_review.md

- ✅ タイトル形式: 「レビュー書: {プロジェクト名}」- 正しい
- ✅ 必須セクション: 「前のステップ」セクションあり（「次のステップ」は不要）- 正しい
- ✅ リンク形式: Markdown リンク形式を使用 - 正しい

#### 90_issues.md

- ✅ タイトル形式: 「Issue 一覧: {プロジェクト名}」- 正しい
- ✅ 必須セクション: 「前のステップ」「次のステップ」セクションなし（issue 管理ファイルのため）- 正しい
- ✅ 参考資料: 親 issue/タスクのドキュメントへのリンクあり - 正しい

### AGENTS.md と AGENTS_AI_PLAYBOOK.md の整合性

- ✅ ワークフローの定義が一致
- ✅ フェーズ進行のルールが一致
- ✅ ドキュメント更新ルールが一致
- ✅ 原則の適用方針が一致

### AI エージェントが正しく機能するための要件

#### 必須要件の確認

1. ✅ **すべての対応は 00\_要求定義.md から開始** - AGENTS_AI_PLAYBOOK.md で明確に定義
2. ✅ **フェーズを飛ばさない** - AGENTS_AI_PLAYBOOK.md で明確に定義
3. ✅ **ドキュメントと実装を常に同期** - AGENTS_AI_PLAYBOOK.md で明確に定義
4. ✅ **前のステップ・次のステップセクション** - テンプレートに適切に配置
5. ✅ **各ステップで md の全文ドラフトまたは差分パッチを出力** - AGENTS_AI_PLAYBOOK.md で明確に定義

#### フェーズ別チェックリストの確認

- ✅ 00\_要求定義: チェックリストが適切
- ✅ 01\_要件定義: チェックリストが適切
- ✅ 02\_設計: チェックリストが適切
- ✅ 03\_実装計画: チェックリストが適切
- ✅ 90_issues: チェックリストが適切
- ✅ 実装フェーズ: チェックリストが適切
- ✅ 04_review: チェックリストが適切

---

## 💡 推奨改善事項

### 1. テンプレートのコメント追加

テンプレートファイルの冒頭に、用語の使い分けに関する注意書きを追加しました。

**対応状況**: ✅ **完了**

すべてのテンプレートファイル（00*要求定義.md、01*要件定義.md、02*設計.md、03*実装計画.md、04_review.md、90_issues.md）に以下の注意書きを追加しました：

```markdown
> **注意**: このテンプレートでは「プロジェクト名」という用語を使用していますが、実際には「issue/タスク名」でも問題ありません。プロジェクトの規模や管理方法に応じて、適切な用語を使用してください。プロジェクトという概念を使わず、issue/タスクのみで管理する場合は、「プロジェクト名」を「issue/タスク名」に置き換えて使用してください。
```

**優先度**: 低（現状でも問題なく動作するが、明確性向上のため実施）

### 2. README の追加（完了）

README を作成し、クイックスタートガイドとドキュメント構成を明確化しました。

**優先度**: 高（完了済み）

---

## 📊 結論

### AI が想定通りに正しく機能するか

**✅ はい、概ね問題なく機能します。**

以下の理由から、AI エージェントがこの規約に従って正しく動作できると判断します：

1. **ワークフローの明確性**: フェーズ進行が明確に定義されており、AI が判断しやすい
2. **テンプレートの一貫性**: すべてのテンプレートで同じフォーマットを使用しており、AI が生成しやすい
3. **明確なルール**: AGENTS_AI_PLAYBOOK.md で機械的に守るべきルールが明確に定義されている
4. **チェックリスト**: フェーズ別チェックリストが整備されており、AI が確認しやすい
5. **ドキュメント間のリンク**: 前のステップ・次のステップセクションが適切に配置されており、AI がナビゲートしやすい

### 改善が必要な点

- ✅ 用語の統一（軽微）: テンプレートのコメント追加でより明確になる - **完了**

### 総合評価

**評価**: ⭐⭐⭐⭐⭐ (5/5)

テンプレートと規約ドキュメントの整合性は良好で、AI エージェントが想定通りに正しく機能するための要件は満たされています。指摘した改善点もすべて完了し、より明確になりました。

---

## 📝 レビュー実施項目

- [x] テンプレートファイルの整合性確認
- [x] AGENTS.md と AGENTS_AI_PLAYBOOK.md の整合性確認
- [x] テンプレートと規約ドキュメントの整合性確認
- [x] AI が正しく機能するための要件確認
- [x] 一貫性の確認
- [x] README の作成

---

**レビュー実施日**: 2025 年 11 月 23 日
